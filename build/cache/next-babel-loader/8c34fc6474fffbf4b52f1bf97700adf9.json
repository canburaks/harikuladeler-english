{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport Layout from \"../components/Layout\";\nimport Card from \"../components/Card\";\nimport Hero from \"../components/Hero\";\nimport CategoryPage from \"./category/[slug]\";\nexport var __N_SSG = true;\nexport default function Home(_ref) {\n  var linkdata = _ref.linkdata,\n      categorydata = _ref.categorydata,\n      tagdata = _ref.tagdata;\n  var router = useRouter();\n  var pathname = router.pathname;\n  console.log(\"home\", pathname);\n\n  var _useState = useState(\"all\"),\n      activeState = _useState[0],\n      setActiveState = _useState[1];\n\n  var existingTags = tagdata.filter(function (t) {\n    return t.fields.link;\n  });\n  var existingCategories = categorydata.filter(function (c) {\n    return c.fields.link;\n  });\n  var tagNames = existingTags.map(function (t) {\n    return t.fields.name;\n  });\n  var categoryNames = existingCategories.map(function (c) {\n    return c.fields.name;\n  });\n  var favourites = linkdata.filter(function (link) {\n    return link.fields.fav === true;\n  });\n\n  var getTagNamesById = function getTagNamesById(tagId) {\n    return tagdata.filter(function (t) {\n      return t.id === tagId;\n    }).map(function (t) {\n      return t.fields.name;\n    })[0];\n  };\n\n  var getLinksByTagName = function getLinksByTagName(tagSlug) {\n    var currentTag = existingTags.filter(function (t) {\n      return t.fields.slug === tagSlug;\n    })[0];\n    var currentLinkIds = currentTag.fields.link;\n    return linkdata.filter(function (l) {\n      return currentLinkIds.includes(l.id);\n    });\n  };\n\n  var activeLinks = activeState === \"all\" ? favourites : getLinksByTagName(activeState);\n\n  var handleClick = function handleClick(e, tagname) {\n    //e.preventDefault()\n    //router.push(tagname)\n    console.log(tagname);\n    setActiveState(tagname);\n  };\n\n  useEffect(function () {\n    window.dataLayer = window.dataLayer || [];\n\n    function gtag() {\n      dataLayer.push(arguments);\n    }\n\n    gtag('js', new Date());\n    gtag('config', 'G-YWQNTGMG9S');\n  }, []);\n  return /*#__PURE__*/_jsxs(Layout, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Harikulade Uygulamalar\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"Harikulade uygulamalar ke\\u015Ffedin. Yaz\\u0131l\\u0131m, tasar\\u0131m, \\xFCretkenlik, i\\u015F ve no-code uygulamalar\\u0131 k\\xFCrasyonu.\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      })]\n    }), /*#__PURE__*/_jsx(Hero, {\n      categories: categorydata\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"Selector\",\n      children: existingTags.map(function (t) {\n        return /*#__PURE__*/_jsx(\"input\", {\n          type: \"radio\",\n          title: t.fields.name,\n          value: t.fields.slug,\n          onChange: function onChange(e) {\n            return handleClick(e, t.fields.slug);\n          },\n          checked: activeState === t.fields.slug,\n          name: \"selector\"\n        }, t.fields.slug);\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"section main\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"w-layout-grid grid\",\n        children: activeLinks.map(function (link) {\n          var tagNames = link.fields.tag.map(function (tid) {\n            return getTagNamesById(tid);\n          });\n          return /*#__PURE__*/_jsx(Card, {\n            tagNames: tagNames,\n            slug: link.fields.slug,\n            title: link.fields.title,\n            bilgi: link.fields.bilgi,\n            imageUrl: link.fields.imageUrl,\n            url: link.fields.url\n          }, link.id);\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}
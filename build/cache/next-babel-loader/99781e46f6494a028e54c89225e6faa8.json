{"ast":null,"code":"// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nconst AirtableAPI = {\n  apiKey: \"keym6ehWNZnQzpS4m\",\n  base: \"\",\n  url: \"https://api.airtable.com/v0/\",\n  init: function ({\n    apiKey,\n    base\n  }) {\n    this.apiKey = apiKey;\n    this.base = base; //const records = await this.fetch(\"Link\");\n\n    return this;\n  },\n  fetch: async function (table) {\n    if (this.apiKey && this.base && table) {\n      const endpoint = `${this.url}${this.base}/${table}?api_key=${this.apiKey}&&view=Grid%20view\"`; //console.log(endpoint);\n\n      const res = await fetch(endpoint, {});\n      const rj = await res.json(); //console.log(\"response\", rj);\n\n      return rj.records;\n    } else return null;\n  }\n};\n\nasync function fetcher() {\n  AirtableAPI.init({\n    apiKey: \"keym6ehWNZnQzpS4m\",\n    base: \"appq9CwhpYOjOv4tQ\"\n  });\n  const tagdata = await AirtableAPI.fetch(\"Tag\");\n  const categorydata = await AirtableAPI.fetch(\"Category\");\n  const linkdata = await AirtableAPI.fetch(\"Link\"); //console.log(\"props\", tagdata, categorydata, linkdata)\n\n  return {\n    linkdata,\n    tagdata,\n    categorydata\n  };\n}\n\nasync function Airdata(req, res) {\n  return await fetcher();\n}\n\nexport default Airdata;","map":{"version":3,"sources":["/home/cbs/Projects/Github/harikuladeler-folder/harikulade-next/pages/api/hello.js"],"names":["AirtableAPI","apiKey","base","url","init","fetch","table","endpoint","res","rj","json","records","fetcher","tagdata","categorydata","linkdata","Airdata","req"],"mappings":"AAAA;AACA,MAAMA,WAAW,GAAG;AAClBC,EAAAA,MAAM,EAAE,mBADU;AAElBC,EAAAA,IAAI,EAAE,EAFY;AAGlBC,EAAAA,GAAG,EAAE,8BAHa;AAIlBC,EAAAA,IAAI,EAAE,UAAU;AAAEH,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAV,EAA4B;AAChC,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,IAAL,GAAYA,IAAZ,CAFgC,CAGhC;;AACA,WAAO,IAAP;AACD,GATiB;AAUlBG,EAAAA,KAAK,EAAE,gBAAgBC,KAAhB,EAAuB;AAC5B,QAAI,KAAKL,MAAL,IAAe,KAAKC,IAApB,IAA4BI,KAAhC,EAAuC;AACrC,YAAMC,QAAQ,GAAI,GAAE,KAAKJ,GAAI,GAAE,KAAKD,IAAK,IAAGI,KAAM,YAAW,KAAKL,MAAO,qBAAzE,CADqC,CAErC;;AACA,YAAMO,GAAG,GAAG,MAAMH,KAAK,CAACE,QAAD,EAAW,EAAX,CAAvB;AACA,YAAME,EAAE,GAAI,MAAMD,GAAG,CAACE,IAAJ,EAAlB,CAJqC,CAKrC;;AACA,aAAOD,EAAE,CAACE,OAAV;AACD,KAPD,MAOO,OAAO,IAAP;AACR;AAnBiB,CAApB;;AAqBA,eAAeC,OAAf,GAAyB;AACvBZ,EAAAA,WAAW,CAACI,IAAZ,CAAiB;AAACH,IAAAA,MAAM,EAAC,mBAAR;AAA8BC,IAAAA,IAAI,EAAC;AAAnC,GAAjB;AACA,QAAMW,OAAO,GAAG,MAAMb,WAAW,CAACK,KAAZ,CAAkB,KAAlB,CAAtB;AACA,QAAMS,YAAY,GAAG,MAAMd,WAAW,CAACK,KAAZ,CAAkB,UAAlB,CAA3B;AACA,QAAMU,QAAQ,GAAG,MAAMf,WAAW,CAACK,KAAZ,CAAkB,MAAlB,CAAvB,CAJuB,CAKvB;;AACA,SAAO;AAAEU,IAAAA,QAAF;AAAYF,IAAAA,OAAZ;AAAqBC,IAAAA;AAArB,GAAP;AACD;;AAEA,eAAeE,OAAf,CAAuBC,GAAvB,EAA4BT,GAA5B,EAAgC;AAC/B,SAAO,MAAMI,OAAO,EAApB;AAED;;AACD,eAAeI,OAAf","sourcesContent":["// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nconst AirtableAPI = {\n  apiKey: \"keym6ehWNZnQzpS4m\",\n  base: \"\",\n  url: \"https://api.airtable.com/v0/\",\n  init: function ({ apiKey, base }) {\n    this.apiKey = apiKey;\n    this.base = base;\n    //const records = await this.fetch(\"Link\");\n    return this\n  },\n  fetch: async function (table) {\n    if (this.apiKey && this.base && table) {\n      const endpoint = `${this.url}${this.base}/${table}?api_key=${this.apiKey}&&view=Grid%20view\"`;\n      //console.log(endpoint);\n      const res = await fetch(endpoint, {});\n      const rj =  await res.json();\n      //console.log(\"response\", rj);\n      return rj.records\n    } else return null;\n  },\n}\nasync function fetcher (){\n  AirtableAPI.init({apiKey:\"keym6ehWNZnQzpS4m\" , base:\"appq9CwhpYOjOv4tQ\"})\n  const tagdata = await AirtableAPI.fetch(\"Tag\")\n  const categorydata = await AirtableAPI.fetch(\"Category\")\n  const linkdata = await AirtableAPI.fetch(\"Link\")\n  //console.log(\"props\", tagdata, categorydata, linkdata)\n  return { linkdata ,tagdata, categorydata }\n}\n\n async function Airdata(req, res){\n  return await fetcher()\n\n}\nexport default Airdata;"]},"metadata":{},"sourceType":"module"}